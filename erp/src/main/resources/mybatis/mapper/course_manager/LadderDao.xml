<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.edu.erp.dao.LadderDao">
	
	<select id="selectForList" parameterType="Map" resultType="com.edu.erp.model.TLadder">
		select a.*
		from t_ladder a 
		where 
			 a.course_ladder_id = #{course_ladder_id}
		order by a.level_price, a.id
	</select>
	
	<insert id="insert" parameterType="com.edu.erp.model.TLadder">
		insert into t_ladder
			(
		    id,
		    course_ladder_id,
		    ladder_level_name,
		    level_condition,
		    level_price,
		    img_path
			)
		values
			(
		    seq_t_ladder.nextval,
		   	#{course_ladder_id,jdbcType=NUMERIC},
		   	#{ladder_level_name,jdbcType=VARCHAR},
		   	#{level_condition,jdbcType=NUMERIC},
		   	#{level_price,jdbcType=NUMERIC},
		   	#{img_path,jdbcType=VARCHAR}
		  	)
	</insert>
	
	<update id="update" parameterType="com.edu.erp.model.TLadder">
		update t_ladder set
		   	ladder_level_name = #{ladder_level_name,jdbcType=VARCHAR},
		   	level_condition = #{level_condition,jdbcType=NUMERIC},
		   	level_price = #{level_price,jdbcType=NUMERIC},
		   	img_path = #{img_path,jdbcType=VARCHAR}
		 where id = #{id}
	</update>
	
	<delete id="delete" parameterType="Map">
		delete from t_ladder t where t.id in (${ids})
	</delete>
	
	<!-- 根据课程阶梯Id删除  -->
	<delete id="deleteByCourseLadderId" parameterType="Map">
		delete from t_ladder t where t.course_ladder_id in (${ids})
	</delete>
	
</mapper>