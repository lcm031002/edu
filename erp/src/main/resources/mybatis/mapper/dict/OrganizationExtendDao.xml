<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.edu.erp.dao.OrganizationExtendDao">

	<insert id="addList" parameterType="com.edu.erp.model.OrganizationExtend">
		<foreach collection="list" item="item" index="index" open="begin" close="; end;" separator=";">
			insert into tab_organization_extend
			(
			id,
			extend_type,
			extend_info,
			org_id,
			<if test="item.appId != null and item.appId != ''">
				app_id,
			</if>
			<if test="item.secret != null and item.secret != ''">
				secret,
			</if>
			create_user,
			create_time
			)
			values
			(
			seq_tab_organization_extend.nextval,
			#{item.extendType},
			#{item.extendInfo},
			#{item.orgId},
			<if test="item.appId != null and item.appId != ''">
				#{item.appId},
			</if>
			<if test="item.secret != null and item.secret != ''">
				#{item.secret},
			</if>
			#{item.create_user},
			#{item.create_time}
			)
		</foreach>
	</insert>

	<delete id="deleteByOrgId" parameterType="long">
		delete from tab_organization_extend where org_id = #{orgId}
	</delete>
	
</mapper>