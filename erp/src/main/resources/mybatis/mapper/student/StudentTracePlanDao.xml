<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.edu.erp.dao.StudentTracePlanDao">

	<insert id="addList" parameterType="list">
		<foreach collection="list" item="item" index="index" open="begin" close="; end;" separator=";">
			insert into tab_student_trace_plan t
			(
				t.id,
				t.trace_id,
				t.type,
				t.content,
				t.create_user,
				t.create_time
			)
			values
			(
				seq_tab_student_trace_plan.nextval,
				#{item.traceId, jdbcType=NUMERIC},
				#{item.type, jdbcType=VARCHAR},
				#{item.content, jdbcType=VARCHAR},
				#{item.create_user, jdbcType=NUMERIC},
				#{item.create_time, jdbcType=TIMESTAMP}
			)
		</foreach>
	</insert>

	<delete id="deleteByTraceId" parameterType="long">
		delete from tab_student_trace_plan where trace_id = #{traceId, jdbcType=NUMERIC}
	</delete>

</mapper>