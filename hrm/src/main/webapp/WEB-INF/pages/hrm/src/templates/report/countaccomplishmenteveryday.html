<div ng-controller="CountAccomplishmentEverydayCtrl">
    <style>
        .alert-danger, .alert-error {
            color: #b94a48;
            background-color: #f2dede;
            border-color: #eed3d7;
        }
    </style>
    <div class="panel panel-default" style="margin-bottom: 10px;">
        <div class="panel-heading font-bold">
            业绩总表
        </div>
        <div class="panel-body" style="padding: 15px;" id="panelBody">
            <form class="ng-pristine ng-valid" role="form">
<!--                 <div class="col-lg-6">
                    <div class="form-group">
                        <label class="col-sm-3 fl" style="line-height: 34px;">课程季</label>
                        <div class="input-group col-sm-9 ">
                            <select class="form-control" ng-model="selectedSeason" >
                                <option value=" ">全部</option>
                                <option value="{{s.id}}" ng-repeat="s in seasons">{{s.name}}</option>
                            </select>
                        </div>
                    </div>
                </div> -->
                <div class="col-lg-6">
                    <div class="form-group">
                        <label class="col-sm-2 fl" style="line-height: 34px;">归属公司</label>
                        <div class="input-group col-sm-5">
                            <select class="form-control" ng-model="selectedCompany" ng-options="com.name for com in companys">
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label class="col-sm-2 fl" style="line-height: 34px;">归属校区</label>
                        <div class="input-group col-sm-5">
                            <select class="form-control" ng-model="selectedBranch" ng-options="branch.name for branch in branchsList" >
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label class="col-sm-2 fl" style="line-height: 34px;">开始时间</label>
                        <div class="input-group col-sm-5" ng-controller="DatepickerDemoCtrl">
                            <input type="text" class="form-control"
                                   uib-datepicker-popup="{{format}}"
                                   current-text="今天"
                                   close-text="关闭"
                                   clear-text="清理"
                                   ng-model="st"
                                   is-open="opened"
                                   ng-readonly="true"
                                   id="beginDate"
                                    />

                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="open($event)">
                                <i class="glyphicon glyphicon-calendar"></i>
                            </button>
                        </span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label class="col-sm-2 fl" style="line-height: 34px;">截止日期</label>
                        <div class="input-group  col-sm-5" ng-controller="DatepickerDemoCtrl">
                            <input type="text" class="form-control"
                                   uib-datepicker-popup="{{format}}"
                                   current-text="今天"
                                   close-text="关闭"
                                   clear-text="清理"
                                   ng-model="dt"
                                   is-open="opened"
                                   min-date="minDate"
                                   ng-readonly="true"
                                   id="endDate"
                                    />

                            <span class="input-group-btn">
                                <button type="button" class="btn btn-default" ng-click="open($event)">
                                    <i class="glyphicon glyphicon-calendar"></i>
                                </button>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-12" align="left">
	                  <div class="col-lg-6 checkbox">
					    <label>
					      <input  id="isWfd" ng-model="isWfd" value="1" type="checkbox"/>查询晚自习(默认查询大小班)
					    </label>
					  </div>
					<div class="col-lg-6">
                      <button type="submit" class="btn btn-default" ng-click="queryInfo()">查询</button>
                      <!--<button type="button"  class="btn btn-default">导入</button>-->
                      <button type="button" ng-click="exp()"  class="btn btn-default">导出</button>
                    </div>
                </div>
            </form>

        </div>
    </div>

    <div>
        <div style="margin-top: 10px;min-height: 300px;white-space:nowrap;">
            <table class="table table-hover table-striped table-bordered">   
                <tr>
					<th  nowrap="nowrap">序号</th>
					<th  nowrap="nowrap">课程季</th>	
					<th  nowrap="nowrap">日期</th>
					<th  nowrap="nowrap">一对多</th>	
					<th  nowrap="nowrap">多对多</th>
					<th  nowrap="nowrap">理赔金额</th>	
					<th  nowrap="nowrap">总金额</th>
                </tr>
                <tr  ng-repeat="d in reportData" order="order" ng-if="reportData&&reportData.length>0" class="cur">
					<td  nowrap="nowrap">{{$index + 1}}</td>
					<td  nowrap="nowrap">{{d.courSeasonName}}</td>
					<td  nowrap="nowrap">{{d.dateTime}}</td>
					<td  nowrap="nowrap">{{d.business1}}</td>
					<td  nowrap="nowrap">{{d.business3}}</td>
					<td  nowrap="nowrap">{{d.claimAmount}}</td>
					<td  nowrap="nowrap">{{d.allAmount}}</td>
                </tr>
                <tr ng-if="isLoadingOrders == 'loading...'">
                    <td colspan="7" align="center">
                        <img src="img/icons/big_load.gif">
                    </td>
                </tr>

                <tr ng-if="!isLoadingOrders&&(!reportData||!reportData.length)">
                    <td colspan="7" align="center"> 没有数据 </td>
                </tr>
            </table>
        </div>
        <div class="fr"  ng-if="totalPage>=1" >
            <ul class="pagination">
             <li ng-model="currentPage" ng-if="totalPage>=1"  ng-click="queryIndex(1)">
                    <span >首页</span>
                </li>
                  <li    ng-if="currentPage>1"    ng-click="queryIndex(currentPage-1)" >
                    <span>上一页</span>
                </li>
                <li     ng-repeat="i in paginationBars track by $index" class="{{ i==currentPage ? 'active':'' }}"  >
                    <span ng-click="queryIndex(i)" >{{i}}</span>
                </li>
                <li ng-model="currentPage"  ng-if="currentPage<totalPage"    ng-click="queryIndex(currentPage+1)">
                    <span >下一页</span>
                </li>
                <li ng-model="totalPage"    ng-click="queryIndex(totalPage)">
                    <span >尾页</span>
                </li>
                
            </ul>
        </div>
    </div>
</div>
