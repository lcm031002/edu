<div id=studentAccountSettlementOfClaimsPanel class="modal fade" tabindex=-1 role=dialog aria-labelledby=studentAccountSettlementOfClaimsPanel aria-hidden=true><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>×</button><h3 id=studentAccountSettlementOfClaimsPanelLabel>学员理赔</h3></div><style>
        .drop-field .droplist{
            display: none;
        }
        .drop-field .droplist:hover{
            display: block;
        }
        .drop-field:hover .droplist{
            display: block;
        }
    </style><div class=modal-body><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">学员编码：</label><div class="input-group col-sm-9 drop-field"><input ng-model=settlementOfClaims.studentEncoding placeholder=请输入学员编码 class=form-control type=text> <span class="input-group-addon cur" ng-click="studentSearch(settlementOfClaims,'encoding')"><i class="fa fa-search"></i></span><div class="associatebox droplist" ng-if="settlementOfClaims.student_list_encoding!=null"><ul><li ng-repeat="student in settlementOfClaims.student_list_encoding" ng-click=selectStudent(settlementOfClaims,student)>{{student.studentEncoding}}-{{student.studentName}}</li></ul></div></div></div><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">学员姓名：</label><div class="input-group col-sm-9 drop-field"><input type=text class=form-control ng-model=settlementOfClaims.studentName placeholder=请输入学员姓名.> <span class="input-group-addon cur" ng-click="studentSearch(settlementOfClaims,'name')"><i class="fa fa-search"></i></span><div class="associatebox droplist" ng-if="settlementOfClaims.student_list_name!=null"><ul><li ng-repeat="student in settlementOfClaims.student_list_name" ng-click=selectStudent(settlementOfClaims,student)>{{student.studentEncoding}}-{{student.studentName}}</li></ul></div></div></div><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">账户类型：</label><div class="input-group col-sm-9" style="line-height: 34px;"><label class="checkbox-inline i-checks" ng-repeat="product in productList"><input value={{product.id}} type=checkbox style="line-height: 34px;" ng-if="settlementOfClaims.studentAccountType != product.id" ng-click=checkedAccountType(settlementOfClaims,product)> <input value={{product.id}} type=checkbox style="line-height: 34px;" checked ng-if="settlementOfClaims.studentAccountType == product.id" ng-click=checkedAccountType(settlementOfClaims,product)> {{product.name}}</label></div></div><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">账户余额：</label><div class="input-group col-sm-9" style="line-height: 34px;">{{settlementOfClaims.studentAccount[settlementOfClaims.studentAccountType]?settlementOfClaims.studentAccount[settlementOfClaims.studentAccountType]:0}}</div></div><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">理赔金额：</label><div class="input-group col-sm-9"><input type=text class=form-control ng-model=settlementOfClaims.studentAmount placeholder=请输入取款金额.></div></div><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">备注：</label><div class="input-group col-sm-9"><input type=text class=form-control ng-model=settlementOfClaims.studentRemark placeholder=请输入备注.></div></div><div class=col-lg-12 align=center><button type=submit class="btn btn-default" ng-click=confirmSettlementOfClaims()>确认</button></div></div></div><div id=studentAccountWithdrawPanel class="modal fade" tabindex=-1 role=dialog aria-labelledby=studentAccountWithdrawPanel aria-hidden=true><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>×</button><h3 id=studentAccountWithdrawPanelLabel>账户取款</h3></div><style>
        .drop-field .droplist{
            display: none;
        }
        .drop-field .droplist:hover{
            display: block;
        }
        .drop-field:hover .droplist{
            display: block;
        }
    </style><div class=modal-body><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">学员编码：</label><div class="input-group col-sm-9 drop-field"><input ng-model=withDrawStudent.studentEncoding placeholder=请输入学员编码 class=form-control type=text> <span class="input-group-addon cur" ng-click="studentSearch(withDrawStudent,'encoding')"><i class="fa fa-search"></i></span><div class="associatebox droplist" ng-if="withDrawStudent.student_list_encoding!=null"><ul><li ng-repeat="student in withDrawStudent.student_list_encoding" ng-click=selectStudent(withDrawStudent,student)>{{student.studentEncoding}}-{{student.studentName}}</li></ul></div></div></div><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">学员姓名：</label><div class="input-group col-sm-9 drop-field"><input type=text class=form-control ng-model=withDrawStudent.studentName placeholder=请输入学员姓名.> <span class="input-group-addon cur" ng-click="studentSearch(withDrawStudent,'name')"><i class="fa fa-search"></i></span><div class="associatebox droplist" ng-if="withDrawStudent.student_list_name!=null"><ul><li ng-repeat="student in withDrawStudent.student_list_name" ng-click=selectStudent(withDrawStudent,student)>{{student.studentEncoding}}-{{student.studentName}}</li></ul></div></div></div><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">账户类型：</label><div class="input-group col-sm-9" style="line-height: 34px;"><label class="checkbox-inline i-checks" ng-repeat="product in productList"><input value={{product.id}} type=checkbox style="line-height: 34px;" ng-if="withDrawStudent.studentAccountType != product.id" ng-click=checkedAccountType(withDrawStudent,product)> <input value={{product.id}} type=checkbox style="line-height: 34px;" checked ng-if="withDrawStudent.studentAccountType == product.id" ng-click=checkedAccountType(withDrawStudent,product)> {{product.name}}</label></div></div><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">账户余额：</label><div class="input-group col-sm-9" style="line-height: 34px;">{{withDrawStudent.studentAccount?withDrawStudent.studentAccount:0}}</div></div><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">卡号：</label><div class="input-group col-sm-8"><input type=text class=form-control ng-model=withDrawStudent.studentCard placeholder=请输入卡号.></div></div><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">取款金额：</label><div class="input-group col-sm-9"><input type=text class=form-control ng-model=withDrawStudent.studentAmount placeholder=请输入取款金额.></div></div><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">手续费：</label><div class="input-group col-sm-9"><input type=text class=form-control ng-model=withDrawStudent.studentCounterFee placeholder=请输入手续费.></div></div><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">备注：</label><div class="input-group col-sm-9"><input type=text class=form-control ng-model=withDrawStudent.studentRemark placeholder=请输入备注.></div></div><div class=col-lg-12 align=center><button type=submit class="btn btn-default" ng-click=confirmWithDraw()>确认</button></div></div></div><div id=studentTransferStudentAccountPanel class="modal fade" tabindex=-1 role=dialog aria-labelledby=studentTransferStudentAccountPanel aria-hidden=true><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>×</button><h3 id=studentSelectedPanelLabel>账户转账</h3></div><div class=modal-body><style>
            .associatebox{border:1px solid #ccc; width:100%; padding-top:3px; padding-bottom:3px;position: absolute;right:0px;z-index:10001;top:34px;background-color: #fff;}
            .associatebox ul{ padding:0px; margin:0px; list-style:none;}
            .associatebox ul li{ line-height:26px; padding-left:10px;  color:#333333; list-style:none;}
            .associatebox ul li:hover{ background:#428bca; cursor:pointer; color:#fff;}
        </style><div class=col-lg-6><div class="panel panel-default" style="margin-bottom: 10px;"><div class=panel-body style="padding: 15px;"><h3>转出学员</h3><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">学员编码：</label><div class="input-group col-sm-9 transferInStudent"><input ng-model=studentTransferAcount.transferInStudent.studentEncoding placeholder=请输入学员编码 class=form-control type=text> <span class="input-group-addon cur" ng-click="studentSearch(studentTransferAcount.transferInStudent,'encoding')"><i class="fa fa-search"></i></span><div class=associatebox ng-if="studentTransferAcount.transferInStudent.student_list_encoding!=null"><ul><li ng-repeat="student in studentTransferAcount.transferInStudent.student_list_encoding" ng-click=selectStudent(studentTransferAcount.transferInStudent,student)>{{student.studentEncoding}}-{{student.studentName}}</li></ul></div></div></div><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">学员姓名：</label><div class="input-group col-sm-9"><input type=text class=form-control ng-model=studentTransferAcount.transferInStudent.studentName placeholder=请输入学员姓名.> <span class="input-group-addon cur" ng-click="studentSearch(studentTransferAcount.transferInStudent,'name')"><i class="fa fa-search"></i></span><div class=associatebox ng-if="studentTransferAcount.transferInStudent.student_list_name!=null"><ul><li ng-repeat="student in studentTransferAcount.transferInStudent.student_list_name" ng-click=selectStudent(studentTransferAcount.transferInStudent,student)>{{student.studentEncoding}}-{{student.studentName}}</li></ul></div></div></div><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">账户类型：</label><div class="input-group col-sm-9" style="line-height: 34px;"><label class="checkbox-inline i-checks" ng-repeat="product in productList"><input value={{product.id}} type=checkbox style="line-height: 34px;" ng-if="studentTransferAcount.transferInStudent.studentAccountType != product.id" ng-click=checkedAccountType(studentTransferAcount.transferInStudent,product)> <input value={{product.id}} type=checkbox style="line-height: 34px;" checked ng-if="studentTransferAcount.transferInStudent.studentAccountType == product.id" ng-click=checkedAccountType(studentTransferAcount.transferInStudent,product)> {{product.name}}</label></div></div><div class="form-group col-lg-12"><label class="col-sm-3 fl" style="line-height: 34px;">转账前：</label><div class="input-group col-sm-9" style="line-height: 34px;">{{studentTransferAcount.transferInStudent.studentAccount[studentTransferAcount.transferInStudent.studentAccountType]?studentTransferAcount.transferInStudent.studentAccount[studentTransferAcount.transferInStudent.studentAccountType]:0}}</div></div><div class="form-group col-lg-12"><label class="col-sm-3 fl" style="line-height: 34px;">转账后：</label><div class="input-group col-sm-9 fl" style="line-height: 34px;">{{studentTransferAcount.transferInStudent.studentAccount[studentTransferAcount.transferInStudent.studentAccountType]?studentTransferAcount.transferInStudent.studentAccount[studentTransferAcount.transferInStudent.studentAccountType]-studentTransferAcount.transferAccount:0-studentTransferAcount.transferAccount}}</div></div></div></div></div><div class=col-lg-6><div class="panel panel-default" style="margin-bottom: 10px;"><div class=panel-body style="padding: 15px;"><h3>转入学员</h3><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">学员编码：</label><div class="input-group col-sm-9"><input ng-model=studentTransferAcount.transferOutStudent.studentEncoding placeholder=请输入学员编码 class=form-control type=text> <span class="input-group-addon cur" ng-click="studentSearch(studentTransferAcount.transferOutStudent,'encoding')"><i class="fa fa-search"></i></span><div class=associatebox ng-if="studentTransferAcount.transferOutStudent.student_list_encoding!=null"><ul><li ng-repeat="student in studentTransferAcount.transferOutStudent.student_list_encoding" ng-click=selectStudent(studentTransferAcount.transferOutStudent,student)>{{student.studentEncoding}}-{{student.studentName}}</li></ul></div></div></div><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">学员姓名：</label><div class="input-group col-sm-9"><input type=text class=form-control ng-model=studentTransferAcount.transferOutStudent.studentName placeholder=请输入学员编码.> <span class="input-group-addon cur" ng-click="studentSearch(studentTransferAcount.transferOutStudent,'name')"><i class="fa fa-search"></i></span><div class=associatebox ng-if="studentTransferAcount.transferOutStudent.student_list_name!=null"><ul><li ng-repeat="student in studentTransferAcount.transferOutStudent.student_list_name" ng-click=selectStudent(studentTransferAcount.transferOutStudent,student)>{{student.studentEncoding}}-{{student.studentName}}</li></ul></div></div></div><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">账户类型：</label><div class="input-group col-sm-9" style="line-height: 34px;"><label class="checkbox-inline i-checks" ng-repeat="product in productList"><input value={{product.id}} type=checkbox style="line-height: 34px;" ng-if="studentTransferAcount.transferOutStudent.studentAccountType != product.id" ng-click=checkedAccountType(studentTransferAcount.transferOutStudent,product)> <input value={{product.id}} type=checkbox style="line-height: 34px;" checked ng-if="studentTransferAcount.transferOutStudent.studentAccountType == product.id" ng-click=checkedAccountType(studentTransferAcount.transferOutStudent,product)> {{product.name}}</label></div></div><div class="form-group col-lg-12"><label class="col-sm-3 fl" style="line-height: 34px;">转账前：</label><div class="input-group col-sm-9" style="line-height: 34px;">{{studentTransferAcount.transferOutStudent.studentAccount[studentTransferAcount.transferOutStudent.studentAccountType]?studentTransferAcount.transferOutStudent.studentAccount[studentTransferAcount.transferOutStudent.studentAccountType]:0}}</div></div><div class="form-group col-lg-12"><label class="col-sm-3 fl" style="line-height: 34px;">转账后：</label><div class="input-group col-sm-9" style="line-height: 34px;">{{studentTransferAcount.transferOutStudent.studentAccount[studentTransferAcount.transferOutStudent.studentAccountType]?parseInt(studentTransferAcount.transferOutStudent.studentAccount[studentTransferAcount.transferOutStudent.studentAccountType]) + parseInt(studentTransferAcount.transferAccount):0+ parseInt(studentTransferAcount.transferAccount)}}</div></div></div></div></div><div class=col-lg-12 align=center><div class=form-group style="width:100%;text-align: left;"><label class="fl col-lg-12" style="line-height: 34px;">金额：</label><div class="input-group col-lg-12"><input type=text class=form-control ng-model=studentTransferAcount.transferAccount ng-change=transferAccountChange()></div></div><div class=form-group style="width:100%;text-align: left;"><label class="fl col-lg-12" style="line-height: 34px;">备注：</label><div class="input-group col-lg-12"><textarea type=text class=form-control ng-model=studentTransferAcount.transferRemark></textarea></div></div></div><div class=col-lg-12 align=center><button type=submit class="btn btn-default" ng-click=confirmTransferAccount()>确认</button></div></div></div><div id=studentSelectedPanel class="modal fade" tabindex=-1 role=dialog aria-labelledby=studentSelectedPanel aria-hidden=true><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>×</button><h3 id=studentSelectedPanelLabel>选择学员</h3></div><div class=modal-body><div class="panel panel-default" style="margin-bottom: 10px;"><div class=panel-body style="padding: 15px;"><div class=col-lg-6><input type=text class=form-control ng-model=student_search_info id=student_search_info name=student_search_info placeholder=请输入搜索关键字.></div><div class=col-lg-4 align=left><button type=submit class="btn btn-default" ng-click=queryStudentList()>搜索</button></div></div></div><table class="table table-striped table-hover table-bordered"><tr><th></th><th>学员姓名</th><th>学员编码</th><th>就读学校</th><th>年段</th><th>联系方式</th></tr><tr ng-repeat="student in studentList" ng-if="studentList && studentList.length" ng-click=checkedStudent(student)><td><input type=checkbox checked ng-if=student.checked> <input type=checkbox ng-if=!student.checked></td><td>{{student.studentName}}</td><td>{{student.studentEncoding}}</td><td>{{student.branchName}}</td><td>{{student.gradeName}}</td><td>{{student.contactInfo}}</td></tr><tr ng-if=!studentList||!studentList.length><td colspan=7 align=center>暂无数据.</td></tr></table><div class=col-lg-12 align=center><button type=submit class="btn btn-default" ng-click=toAccountRechargePanel(type) ng-disabled=!curStudent>下一步</button></div></div></div><div id=studentAccountRechargePanel class="modal fade" tabindex=-1 role=dialog aria-labelledby=studentAccountRechargePanel aria-hidden=true><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>×</button><h3 id=studentAccountRechargePanelLabel>充值</h3></div><div class=modal-body><div style="float:left; margin-top:100px; margin-left:100px;"><div class=col-lg-12><div class=titlebox><a href=javascript:void(0) ng-click="toAccountRechargePanel('cash')" style="color: #333;"><i class="fa fa-edit"></i> 现金</a></div><div class=titlebox><a href=javascript:void(0) ng-click="toAccountRechargePanel('card')" style="color: #333;"><i class="fa fa-external-link"></i> 刷卡</a></div><div class=titlebox><a href=javascript:void(0) ng-click="toAccountRechargePanel('transfer')" style="color: #333;"><i class="fa fa-exchange"></i> 转账</a></div></div></div></div></div><div id=studentAccountCashRechargePanel data-backdrop=static class="modal fade" tabindex=-1 role=dialog aria-labelledby=studentAccountCashRechargePanel aria-hidden=true><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>×</button><h3 id=studentAccountCashRechargePanelLabel>现金充值</h3></div><div class=modal-body><div class="panel panel-default" style="margin-bottom: 10px;"><div class=panel-body style="padding: 15px;" id=panelBody><div class=col-lg-5><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">充值金额</label><div class="input-group col-sm-9"><input type=number class=form-control ng-model=pay.value min=1 max=50000></div></div></div><div class=col-lg-5><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">备注</label><div class="input-group col-sm-9"><input type=text class=form-control ng-model=pay.remark></div></div></div><div class=col-lg-2 align=center><button type=submit class="btn btn-default" ng-click="addPay('cash')">添加</button></div></div></div><div><h3>充值信息<span class=fr>合计：{{pay.total}}</span></h3></div><table class=table><tr><th>充值类型</th><th>金额</th><th>备注</th><th>操作</th></tr><tr ng-if=!pay.payList||!pay.payList.length><td colspan=4 align=center>暂无数据.</td></tr><tr ng-repeat="cash in pay.payList" ng-if=pay.payList&&pay.payList.length><td>{{cash.typeName}}</td><td>{{cash.value}}</td><td>{{cash.remark}}</td><td><a href=javascript:void(0) ng-click="removePay('cash',cash)">删除</a></td></tr></table><div class=col-lg-12 align=center><button type=submit class="btn btn-primary" ng-click="confirmPay('cash')">确定</button></div></div></div><div id=studentAccountRechargeCardPanel data-backdrop=static class="modal fade" tabindex=-1 role=dialog aria-labelledby=studentAccountRechargeCardPanel aria-hidden=true><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>×</button><h3 id=studentAccountRechargeCardPanelLabel>刷卡充值</h3></div><div class=modal-body><div class="panel panel-default" style="margin-bottom: 10px;"><div class=panel-body style="padding: 15px;" id=panelBody><div class=col-lg-6><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">金额</label><div class="input-group col-sm-9"><input type=number class=form-control ng-model=pay.value min=1 max=50000></div></div></div><div class=col-lg-6><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">付款卡号</label><div class="input-group col-sm-9"><input type=text class=form-control ng-model=pay.card></div></div></div><div class=col-lg-6><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">公司账号</label><div class="input-group col-sm-9"><input type=text class=form-control ng-model=pay.companyAccount ng-readonly=true></div></div></div><div class=col-lg-6><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">公司pos机</label><div class="input-group col-sm-9"><select class=form-control ng-change=selectedPos(pay.pos) ng-model=pay.pos ng-options="pos.name for pos in posList"></select></div></div></div><div class=col-lg-6><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">备注</label><div class="input-group col-sm-9"><input type=text class=form-control ng-model=pay.remark></div></div></div><div class=col-lg-12 align=center><button type=submit class="btn btn-default" ng-click="addPay('card')">添加</button></div></div></div><div><h3>充值信息<span class=fr>合计：{{pay.total}}</span></h3></div><table class=table><tr><th>金额</th><th>付款卡号</th><th>公司账号</th><th>公司POS机</th><th>备注</th><th>操作</th></tr><tr ng-if="!pay.payList || !pay.payList.length"><td colspan=6 align=center>暂无数据.</td></tr><tr ng-repeat="card in pay.payList" ng-if="pay.payList && pay.payList.length"><td>{{card.value}}</td><td>{{card.card}}</td><td>{{card.companyAccount}}</td><td>{{card.posName}}</td><td>{{card.remark}}</td><td><a href=javascript:void(0) ng-click="removePay('card',card)">删除</a></td></tr></table><div class=col-lg-12 align=center><button type=submit class="btn btn-primary" ng-click="confirmPay('card')">确定</button></div></div></div><div id=studentAccountTransferPanel data-backdrop=static class="modal fade" tabindex=-1 role=dialog aria-labelledby=studentAccountTransferPanel aria-hidden=true><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>×</button><h3 id=studentAccountTransferPanelLabel>转账充值</h3></div><div class=modal-body><div class="panel panel-default" style="margin-bottom: 10px;"><div class=panel-body style="padding: 15px;"><div class=col-lg-6><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">金额</label><div class="input-group col-sm-9"><input type=number class=form-control ng-model=pay.value min=1 max=50000></div></div></div><div class=col-lg-6><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">付款卡号</label><div class="input-group col-sm-9"><input type=text class=form-control ng-model=pay.card></div></div></div><div class=col-lg-6><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">公司账号</label><div class="input-group col-sm-9"><select class=form-control ng-model=pay.account ng-click=selectedAccount(pay.account) ng-options="account.name for account in accountList"></select></div></div></div><div class=col-lg-6><div class=form-group><label class="col-sm-3 fl" style="line-height: 34px;">备注</label><div class="input-group col-sm-9"><input type=text class=form-control ng-model=pay.remark></div></div></div><div class=col-lg-12 align=center><button type=submit class="btn btn-default" ng-click="addPay('transfer')">添加</button></div></div></div><div><h3>充值信息<span class=fr>合计：{{pay.total}}</span></h3></div><table class=table><tr><th>金额</th><th>付款卡号</th><th>公司账号</th><th>备注</th><th>操作</th></tr><tr ng-if="!pay.payList || !pay.payList.length"><td colspan=6 align=center>暂无数据.</td></tr><tr ng-repeat="transfer in pay.payList" ng-if="pay.payList && pay.payList.length"><td>{{transfer.value}}</td><td>{{transfer.card}}</td><td>{{transfer.companyAccount}}</td><td>{{transfer.remark}}</td><td><a href=javascript:void(0) ng-click="removePay('transfer',transfer)">删除</a></td></tr></table><div class=col-lg-12 align=center><button type=submit class="btn btn-primary" ng-click="confirmPay('transfer')">确定</button></div></div></div>