<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ebusiness.hrm.dao.PostDutyDao">
    
	<insert id="insert" parameterType="com.ebusiness.hrm.model.PostDuty">
		INSERT INTO tp_post_duty
		(
			id,
			duty_name,
			<!-- post_id,
			rank_id, -->
			remark,
			create_user,
			create_time,
			update_user,
			update_time,
			deleted
		)
		VALUES
		(
			#{id,jdbcType=VARCHAR},
			#{duty_name,jdbcType=VARCHAR},
			<!-- #{post_id,jdbcType=NUMERIC},
			#{rank_id,jdbcType=VARCHAR}, -->
			#{remark,jdbcType=VARCHAR},
			#{create_user,jdbcType=NUMERIC},
			#{create_time,jdbcType=TIMESTAMP},
			#{update_user,jdbcType=NUMERIC},
			#{update_time,jdbcType=TIMESTAMP},
			0
		)
	</insert>
	
	<update id="update" parameterType="com.ebusiness.hrm.model.PostDuty">
		UPDATE tp_post_duty
		SET
			duty_name=#{duty_name,jdbcType=VARCHAR},
			remark=#{remark,jdbcType=VARCHAR},
			<!-- post_id=#{post_id,jdbcType=NUMERIC},
			rank_id=#{rank_id,jdbcType=VARCHAR}, -->
			update_user=#{update_user,jdbcType=NUMERIC},
			update_time=#{update_time,jdbcType=TIMESTAMP}
		WHERE id=#{id, jdbcType = VARCHAR}
	</update>
	
	<select id="selectList" resultType="com.ebusiness.hrm.model.PostDuty">
		select t.id, t.duty_name, t.remark
			<!-- ,t.post_id, t.rank_id, tp.post_name, tpr.rank_code -->
		from tp_post_duty t 
		<!-- left join tp_post tp on tp.id = t.post_id
		left join tp_post_rank tpr on tpr.id = t.rank_id
		order by t.post_id, t.duty_name -->
		order by t.create_time desc
	</select>
	
	<select id="selectSimpleList" resultType="com.ebusiness.hrm.model.PostDuty">
		select t.id, t.duty_name, t.remark
			<!-- , t.post_id, t.rank_id -->
		from tp_post_duty t 
		<!-- order by t.post_id, t.duty_name -->
		order by t.create_time desc
	</select>
	
</mapper>