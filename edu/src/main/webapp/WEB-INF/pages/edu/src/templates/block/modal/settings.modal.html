<!-- Teacher Group Modal -->
<rd-modal ng-form="form" id="reportTaskSettingsPanel">
  <rd-modal-title>任务设置{{optype=='add'?'添加':'修改'}}</rd-modal-title>
  <rd-modal-body>
    <div class="form-horizontal">
      <div class="hide">
        <input type="text" ng-model="taskSetting.id">
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">任务编号：</label>
        <div class="col-sm-10">
          <input class="form-control" ng-model="taskSetting.taskId" type="text" required>
          <span class="form-error" ng-show="form.taskId.$dirty && form.taskId.$error.required">任务编号不能为空！</span>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">任务名称：</label>
        <div class="col-sm-10">
          <input class="form-control" ng-model="taskSetting.taskName" type="text" required>
          <span class="form-error" ng-show="form.taskName.$dirty && form.taskName.$error.required">任务名称不能为空！</span>
        </div>
      </div>
	  <div class="form-group">
        <label class="col-sm-2 control-label">处理类：</label>
        <div class="col-sm-10">
          <input class="form-control" ng-model="taskSetting.classImpl" type="text" required>
          <span class="form-error" ng-show="form.classImpl.$dirty && form.classImpl.$error.required">处理类不能为空！</span>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">依赖表：</label>
        <div class="col-sm-10">
          <input class="form-control" ng-model="taskSetting.tables" type="text">
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">开始日期：</label>
        <div class="col-sm-10">
          <rd-date-picker-popup ng-model="taskSetting.startDate" required></rd-date-picker-popup>
          <span class="form-error" ng-show="form.startDate.$dirty && form.startDate.$error.required">开始日期不能为空！</span>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">截止日期：</label>
        <div class="col-sm-10">
          <rd-date-picker-popup ng-model="taskSetting.endDate" required></rd-date-picker-popup>
          <span class="form-error" ng-show="form.endDate.$dirty && form.endDate.$error.required">截止日期不能为空！</span>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">运行时间：</label>
        <div class="col-sm-10">
          <kl-timepicker ng-model="taskSetting.runTime" required></kl-timepicker>
          <span class="form-error" ng-show="form.runTime.$dirty && form.runTime.$error.required">运行时间不能为空！</span>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">运行周期：</label>
        <div class="col-sm-10">
          <input class="form-control" ng-model="taskSetting.period" type="number" required>
          <span class="form-error" ng-show="form.period.$dirty && form.period.$error.required">运行周期不能为空！</span>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">单位：</label>
        <div class="col-sm-10">
          <select class="form-control" ng-model="taskSetting.unit" ng-options="unit.id as unit.text for unit in unitList" required>
          </select>
          <span class="form-error" ng-show="form.unit.$dirty && form.unit.$error.required">请选择单位！</span>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">类型：</label>
        <div class="col-sm-10">
          <select class="form-control" ng-model="taskSetting.type" ng-options="type.id as type.text for type in typeList" required>
          </select>
          <span class="form-error" ng-show="form.type.$dirty && form.type.$error.required">请选择类型！</span>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">起始编号：</label>
        <div class="col-sm-10">
          <input class="form-control" ng-model="taskSetting.startId" type="text">
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">批次处理数量：</label>
        <div class="col-sm-10">
          <input class="form-control" ng-model="taskSetting.pageSize" type="number">
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">备注：</label>
        <div class="col-sm-10">
          <textarea class="form-control" ng-model="taskSetting.remark" rows="4"></textarea>
        </div>
      </div>
    </div>
  </rd-modal-body>
  <rd-modal-footer>
    <button type="button" class="btn btn-default" ng-click="$dismiss()">取消</button>
    <button type="button" ng-disabled="form.$invalid" class="btn btn-primary" ng-click="confirm()">确定</button>
  </rd-modal-footer>
</rd-modal>
